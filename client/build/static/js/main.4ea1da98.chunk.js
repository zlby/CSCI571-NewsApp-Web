(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){},119:function(e,t,a){e.exports=a(170)},124:function(e,t,a){},125:function(e,t,a){},147:function(e,t,a){},153:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(10),s=a.n(r),o=a(53),i=(a(124),a(13)),c=a(14),m=a(15),u=a(16),d=(a(125),a(126),a(30)),h=a.n(d),p=a(20),f=a(84),g=a.n(f),v=a(104),b=a(23),E=a(193),w=a(191),k=a(192),y=a(178),S=a(105),I=a.n(S),O=a(87),C=(a(147),a(176)),j=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).loadOptions=function(e){return new Promise((function(t){clearTimeout(n.loadTimer),n.loadTimer=setTimeout((function(){t(n.callAutoSuggest(e))}),1e3)}))},n.filterResult=function(e){return[{value:"chocolate",label:"Chocolate"},{value:"strawberry",label:"Strawberry"},{value:"vanilla",label:"Vanilla"},{value:"blueberry",label:"Blueberry"},{value:"trump",label:"trump"},{value:"health",label:"health"}].filter((function(t){return t.label.toLowerCase().includes(e.toLowerCase())}))},n.handleInputChange=function(e){var t=e.replace(/\W/g,"");return n.setState({inputValue:t}),t},n.handleChange=n.handleChange.bind(Object(b.a)(n)),n.handleSearch=n.handleSearch.bind(Object(b.a)(n)),n.loadOptions=n.loadOptions.bind(Object(b.a)(n)),n.state={inputValue:"",searched:!1,checked:n.props.checked},n}return Object(c.a)(a,[{key:"handleChange",value:function(){localStorage.setItem("source","g"===localStorage.getItem("source")?"n":"g"),this.props.fnSwitch()}},{key:"callAutoSuggest",value:function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return");case 2:return a="https://api.cognitive.microsoft.com/bing/v7.0/suggestions?q="+t,"6c8e9f153d324c68923f127a6c7e8824",e.prev=4,e.next=7,h.a.get(a,{headers:{"Ocp-Apim-Subscription-Key":"6c8e9f153d324c68923f127a6c7e8824"}});case 7:return n=e.sent,l=n.data.suggestionGroups[0].searchSuggestions,e.abrupt("return",l.map((function(e){return{value:e.displayText,label:e.displayText}})));case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSearch",value:function(e){var t=e.value;this.setState({inputValue:t,searched:!0})}},{key:"render",value:function(){var e,t=this.props.url,a=l.a.createElement(l.a.Fragment,null);this.state.searched&&(this.setState({searched:!1},(function(){})),a=l.a.createElement(p.a,{to:"/search/"+this.state.inputValue})),e="/favorite"===t?l.a.createElement(C.a,{size:30,color:"white"}):l.a.createElement(C.b,{size:30,color:"white"});var n=!1,r=!1,s=!1,o=!1,i=!1,c=!1,m=!1,u=!1,d=!1;switch(t){case"/home/all":n=!0;break;case"/home/world":r=!0;break;case"/home/politics":s=!0;break;case"/home/business":o=!0;break;case"/home/technology":i=!0;break;case"/home/sports":c=!0;break;case"/favorite":d=!0}var h="";return"article"===t.split("/")[1]&&(m=!0),"search"===t.split("/")[1]?(h=t.split("/")[2],u=!0):u=!1,console.log(h),l.a.createElement(l.a.Fragment,null,a,l.a.createElement(E.a,{className:"myNavbarClass",variant:"dark",collapseOnSelect:!0,expand:"lg"},l.a.createElement("div",{className:"mySearchBox"},l.a.createElement(O.a,{defaultValue:h,cacheOptions:!0,loadOptions:this.loadOptions,defaultOptions:!0,onInputChange:this.handleInputChange,onChange:this.handleSearch,placeholder:"Enter keyword .."})),l.a.createElement(E.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(E.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(w.a,{className:"mr-auto"},l.a.createElement(w.a.Link,{href:"/home/all",active:n,align:"left"},"Home"),l.a.createElement(w.a.Link,{href:"/home/world",active:r,align:"left"},"World"),l.a.createElement(w.a.Link,{href:"/home/politics",active:s,align:"left"},"Politics"),l.a.createElement(w.a.Link,{href:"/home/business",active:o,align:"left"},"Business"),l.a.createElement(w.a.Link,{href:"/home/technology",active:i,align:"left"},"Technology"),l.a.createElement(w.a.Link,{href:"/home/sports",active:c,align:"left"},"Sports")),l.a.createElement(w.a,{className:"justify-content-end"},l.a.createElement(w.a.Link,{href:"/favorite",align:"left"},l.a.createElement(k.a,{placement:"bottom",overlay:l.a.createElement(y.a,null,"Bookmark")},e)," "),d||u||m?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a.Link,{disabled:!0,style:{color:"white"},align:"left"},"NYTimes"),l.a.createElement(w.a.Link,{align:"left"},l.a.createElement(I.a,{onChange:this.handleChange,checked:this.props.checked,checkedIcon:!1,uncheckedIcon:!1,onColor:"#29f"})),l.a.createElement(w.a.Link,{align:"left",disabled:!0,style:{color:"white"}},"Guardian"))))))}}]),a}(l.a.Component),N=(a(153),a(194)),x=a(179),T=a(180),A=a(181),D=a(182),P=a(190);var L=function(e){var t,a=e.section;switch(void 0===a&&(a="none"),"sport"===(a=a.toLowerCase())&&(a="sports"),a){case"world":t="#7c4eff";break;case"politics":t="#419488";break;case"business":t="#4696ec";break;case"technology":t="#cedc39";break;case"sports":t="#f6c244";break;case"health":t="#6e757c";break;case"guardian":t="#14284a";break;case"nytimes":t="#dddddd";break;default:t="#6e757c"}return l.a.createElement("div",{style:{backgroundColor:t,maxWidth:"max-content",display:"inline-block",height:"20px",marginLeft:"3px",borderRadius:"5px",textAlign:"center",paddingLeft:"5px",paddingRight:"5px"}},l.a.createElement("p",{style:{fontWeight:"bold",color:"white",fontSize:"13px"}},a.toUpperCase()," "))},_=a(183),B=a(185),F=a(187),U=a(184),R=a(186),H=a(188),z=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleShow=function(t){t.stopPropagation(),t.preventDefault(),e.setState({show:!0})},e.handleHide=function(){e.setState({show:!1})},e.handleDetail=function(){e.props.fnDetail(e.props.newsInfo.newsid,e.props.newsInfo.from)},e.handleClick=function(){e.props.history.push("/article/"+encodeURIComponent(e.props.newsInfo.newsid))},e.state={show:!1},e}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{href:"/article/"+encodeURIComponent(this.props.newsInfo.newsid),style:{textDecoration:"none",color:"black"}},l.a.createElement(N.a,{className:"outerCardInNewsBar",href:!0},l.a.createElement(x.a,{fluid:!0,className:"containerInNewsBar"},l.a.createElement(T.a,null,l.a.createElement(A.a,{xs:12,sm:12,md:12,lg:3,xl:3},l.a.createElement(D.a,{className:"imageInNewsBar",src:this.props.newsInfo.imgsrc,rounded:!0})),l.a.createElement(A.a,{xs:12,sm:12,md:12,lg:9,xl:9},l.a.createElement("h3",{align:"left"},this.props.newsInfo.title,l.a.createElement(C.d,{onClick:this.handleShow})),l.a.createElement("p",{className:"descInNewsBar"},this.props.newsInfo.desc),l.a.createElement("div",null,l.a.createElement(T.a,null,l.a.createElement(A.a,null,l.a.createElement("p",{align:"left",style:{fontStyle:"italic"}},this.props.newsInfo.date)),l.a.createElement(A.a,null,l.a.createElement("div",{align:"right"},l.a.createElement(L,{section:this.props.newsInfo.section})))))))))),l.a.createElement(P.a,{show:this.state.show,onHide:this.handleHide},l.a.createElement(P.a.Header,{closeButton:!0},l.a.createElement("h5",null,this.props.newsInfo.title)),l.a.createElement(P.a.Body,{style:{justifyContent:"space-around"}},l.a.createElement("h5",{className:"modalShareVia"},"Share via"),l.a.createElement("div",{className:"modalDiv"},l.a.createElement(_.a,{url:this.props.newsInfo.url,hashtag:"#CSCI_571_NewsApp"},l.a.createElement(U.a,{size:48,round:!0})),l.a.createElement(B.a,{url:this.props.newsInfo.url,hashtags:["CSCI_571_NewsApp"]},l.a.createElement(R.a,{size:48,round:!0})),l.a.createElement(F.a,{url:this.props.newsInfo.url,subject:"#CSCI_571_NewsApp"},l.a.createElement(H.a,{size:48,round:!0}))))))}}]),a}(l.a.Component),J=Object(p.g)(z),V=a(115),G=a(116),M=a.n(G),W=a(7);function Y(){var e=Object(V.a)(["display: block;margin: 0 auto;"]);return Y=function(){return e},e}var q=function(){var e=Object(W.css)(Y());return l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},l.a.createElement(M.a,{css:e,color:"#2d4eca"}),l.a.createElement("h4",null,"Loading"))},K=(a(100),a(39)),$=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleDetail=function(){e.setState({redirect:!0})},e.handleShow=function(t){t.stopPropagation(),t.preventDefault(),e.setState({show:!0})},e.removeFromFavo=function(t){t.stopPropagation(),t.preventDefault();var a=JSON.parse(localStorage.getItem("favo"));delete a[encodeURIComponent(e.props.newsInfo.newsid)],localStorage.setItem("favo",JSON.stringify(a));var n="Removing "+e.props.newsInfo.title;Object(K.c)(n,{className:"myToastify",position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),e.props.fnUpdate()},e.handleHide=function(){e.setState({show:!1})},e.state={show:!1,redirect:!1},e}return Object(c.a)(a,[{key:"render",value:function(){var e=l.a.createElement(l.a.Fragment,null),t=l.a.createElement(l.a.Fragment,null);return this.props.isFavo&&(e=l.a.createElement(C.c,{onClick:this.removeFromFavo}),t=l.a.createElement(L,{section:"g"===this.props.newsInfo.from?"guardian":"nytimes"})),l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0,transition:K.b}),l.a.createElement("a",{href:"/article/"+encodeURIComponent(this.props.newsInfo.newsid),style:{textDecoration:"none",color:"black"}},l.a.createElement(x.a,{className:"myNewsCardContainer",onClick:this.handleDetail},l.a.createElement(N.a,{className:"myNewsCard"},l.a.createElement(N.a.Title,null,l.a.createElement("div",{className:"myNewsCardTitleDiv"},this.props.newsInfo.title,l.a.createElement(C.d,{onClick:this.handleShow}),e)),l.a.createElement(N.a.Img,{className:"imgInNewsCard",variant:"top",src:this.props.newsInfo.imgsrc}),l.a.createElement(N.a.Body,{style:{paddingLeft:"0px",paddingRight:"0px"}},l.a.createElement(N.a.Text,null,l.a.createElement("div",null,l.a.createElement(T.a,null,l.a.createElement(A.a,{xs:4,sm:4,md:4,lg:4,xl:4,className:"datecol"},l.a.createElement("p",{align:"left",style:{fontStyle:"italic"},className:"newsdate"},this.props.newsInfo.date)),l.a.createElement(A.a,{xs:8,sm:8,md:8,lg:8,xl:8,className:"tagcol"},l.a.createElement("div",{align:"right"},l.a.createElement(L,{section:this.props.newsInfo.section}),t))))))))),l.a.createElement(P.a,{show:this.state.show,onHide:this.handleHide},l.a.createElement(P.a.Header,{closeButton:!0},l.a.createElement("div",null,l.a.createElement("h4",null,"g"===this.props.newsInfo.from?"GUARDIAN":"NYTIMES"),l.a.createElement("h5",null,this.props.newsInfo.title))),l.a.createElement(P.a.Body,{style:{justifyContent:"space-around"}},l.a.createElement("h5",{className:"modalShareVia"},"Share via"),l.a.createElement("div",{className:"modalDiv"},l.a.createElement(_.a,{url:this.props.newsInfo.url,hashtag:"#CSCI_571_NewsApp"},l.a.createElement(U.a,{size:48,round:!0})),l.a.createElement(B.a,{url:this.props.newsInfo.url,hashtags:["CSCI_571_NewsApp"]},l.a.createElement(R.a,{size:48,round:!0})),l.a.createElement(F.a,{url:this.props.newsInfo.url,subject:"#CSCI_571_NewsApp"},l.a.createElement(H.a,{size:48,round:!0}))))))}}]),a}(l.a.Component);var Q=function(e){var t=e.newsList;return t=t.map((function(t){return l.a.createElement(A.a,{xs:12,sm:12,md:3,lg:3,xl:3,className:"colgroup"},l.a.createElement($,{newsInfo:t,isFavo:e.isFavo,fnUpdate:e.fnUpdate}))})),l.a.createElement(x.a,{fluid:!0,className:"myNewsCardGroup"},l.a.createElement(T.a,null,t))},X=a(52),Z=a(109),ee=(a(168),a(117)),te=a.n(ee),ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.call(this)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.removeCommentBox=te()("5754892564037632-proj",{createBoxUrl:function(e,t){return t.search="",t.hash=e,decodeURIComponent(t.href)}})}},{key:"render",value:function(){return l.a.createElement("div",{className:"commentbox",id:this.props.id})}}]),a}(l.a.Component),ne=a(189);a(169);function le(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];if(n&&n.blocks&&n.blocks.main&&n.sectionId&&n.webTitle&&n.webPublicationDate&&n.blocks.body[0].bodyTextSummary&&!(0===n.sectionId.length||n.sectionId.length>10)){var l=re(n);t.push(l)}}return t}var re=function(e){var t="";t=e.blocks.main.elements&&e.blocks.main.elements[0]&&e.blocks.main.elements[0].assets&&!(e.blocks.main.elements[0].assets.length<=0)&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png";var a={};return a.imgsrc=t,a.title=e.webTitle,a.section=e.sectionId,a.date=e.webPublicationDate.substring(0,e.webPublicationDate.indexOf("T")),a.desc=e.blocks.body[0].bodyTextSummary,a.url=e.webUrl,a.newsid=e.id,a.from="g",a};var se=function(e){var t={};t.title=e.headline.main,t.section=e.section_name,t.date=e.pub_date.substring(0,e.pub_date.indexOf("T")),t.desc=e.abstract;var a="https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg",n=e.multimedia;if(n&&n.length>0)for(var l=0;l<n.length;l++)if(n[l].width>=2e3){a=n[l].url;break}return 0!==a.indexOf("http")&&(a="https://static01.nyt.com/"+a),t.imgsrc=a,t.url=e.web_url,t.newsid=t.url,t.from="n",t},oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).callArticlePageAPI=function(t){var a="http://54.86.70.47:9000/guardianapi/detailed/"+decodeURIComponent(t);0===t.indexOf("http")&&(a="http://54.86.70.47:9000/nytimesapi/detailed/"+decodeURIComponent(t)),e.state.loading||e.setState({loading:!0}),h.a.get(a).then((function(a){e.setState({newsInfo:0===t.indexOf("http")?se(a.data.response.docs[0]):re(a.data.response.content)},(function(){e.setState({loading:!1})}))}))},e.scrollToTop=function(){X.animateScroll.scrollToTop()},e.showMore=function(){e.setState({open:!0})},e.showLess=function(){e.setState({open:!1})},e.markArticle=function(){var t=JSON.parse(localStorage.getItem("favo"));t[e.props.match.params.id]=e.state.newsInfo,localStorage.setItem("favo",JSON.stringify(t)),e.setState({bookmarked:!0},(function(){var t="Saving "+e.state.newsInfo.title;Object(K.c)(t,{className:"myToastify",position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}))},e.unmarkArticle=function(){var t=JSON.parse(localStorage.getItem("favo"));delete t[e.props.match.params.id],localStorage.setItem("favo",JSON.stringify(t)),e.setState({bookmarked:!1},(function(){var t="Removing "+e.state.newsInfo.title;Object(K.c)(t,{className:"myToastify",position:"top-center",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}))},e.state={loading:!0,open:!1,source:"",bookmarked:!1,newsInfo:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;JSON.parse(localStorage.getItem("favo")).hasOwnProperty(this.props.match.params.id)?this.setState({bookmarked:!0},(function(){e.callArticlePageAPI(e.props.match.params.id)})):this.callArticlePageAPI(this.props.match.params.id)}},{key:"render",value:function(){if(this.state.loading)return l.a.createElement(q,null);var e;e=this.state.bookmarked?l.a.createElement(C.a,{size:34,color:"red",onClick:this.unmarkArticle,style:{cursor:"pointer"}}):l.a.createElement(C.b,{size:34,color:"red",onClick:this.markArticle,style:{cursor:"pointer"}});var t=this.state.newsInfo.desc,a="",n="";if(t.split(".").length<=4)a=t;else{var r=t.split(".").slice(0,4);a=r.join(".")+".",n=(r=t.split(".").slice(4)).join(".")}return l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{position:"top-center",autoClose:2e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0,transition:K.b}),l.a.createElement("div",{className:"divArticalPage"},l.a.createElement(N.a,{className:"cardArticalPage"},l.a.createElement("h3",{align:"left"},l.a.createElement(X.Element,{name:"titleElem"},this.state.newsInfo.title)),l.a.createElement(T.a,null,l.a.createElement(A.a,{style:{paddingBottom:"1px"},xs:5,sm:5,md:5,lg:7,xl:7},l.a.createElement("div",{className:"articleDate"},this.state.newsInfo.date)),l.a.createElement(A.a,{style:{textAlign:"right"},xs:5,sm:5,md:5,lg:4,xl:4},l.a.createElement("div",{className:"articleShare"},l.a.createElement(k.a,{placement:"top",overlay:l.a.createElement(y.a,null,"Facebook")},l.a.createElement(_.a,{url:this.state.newsInfo.url,hashtag:"#CSCI_571_NewsApp"},l.a.createElement(U.a,{size:28,round:!0})))," ",l.a.createElement(k.a,{placement:"top",overlay:l.a.createElement(y.a,null,"Twitter")},l.a.createElement(B.a,{url:this.state.newsInfo.url,hashtags:["CSCI_571_NewsApp"]},l.a.createElement(R.a,{size:28,round:!0})))," ",l.a.createElement(k.a,{placement:"top",overlay:l.a.createElement(y.a,null,"Email")},l.a.createElement(F.a,{url:this.state.newsInfo.url,subject:"#CSCI_571_NewsApp"},l.a.createElement(H.a,{size:28,round:!0})))," ")),l.a.createElement(A.a,{style:{textAlign:"right"},xs:1,sm:1,md:1,lg:1,xl:1},l.a.createElement("div",null,l.a.createElement(k.a,{placement:"top",overlay:l.a.createElement(y.a,null,"Bookmark")},e)," "))),l.a.createElement(N.a.Img,{src:this.state.newsInfo.imgsrc}),l.a.createElement("div",{align:"left"},a),l.a.createElement(X.Element,{name:"collapseElem"}),l.a.createElement(Z.a,{in:this.state.open},l.a.createElement("div",{id:"example-collapse-text",align:"left"},n)),l.a.createElement("div",{className:"articalArrow"},this.state.open?l.a.createElement(X.Link,{activeClass:"active",to:"titleElem",spy:!0,smooth:!0,duration:300},l.a.createElement(ne.b,{size:30,onClick:this.showLess})):l.a.createElement(X.Link,{activeClass:"active",to:"collapseElem",spy:!0,smooth:!0,duration:300},l.a.createElement(ne.a,{size:30,onClick:this.showMore}))))),l.a.createElement(ae,{id:encodeURIComponent(this.state.newsInfo.newsid)}))}}]),a}(l.a.Component),ie=Object(p.g)(oe);l.a.Component;function ce(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];if(n&&n.blocks&&n.blocks.main&&n.sectionId&&n.webTitle&&n.webPublicationDate&&n.blocks.body[0].bodyTextSummary&&!(0===n.sectionId.length||n.sectionId.length>10)){var l=me(n);t.push(l)}}return t}var me=function(e){var t="";t=e.blocks.main.elements&&e.blocks.main.elements[0]&&e.blocks.main.elements[0].assets&&!(e.blocks.main.elements[0].assets.length<=0)&&e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file?e.blocks.main.elements[0].assets[e.blocks.main.elements[0].assets.length-1].file:"https://assets.guim.co.uk/images/eada8aa27c12fe2d5afa3a89d3fbae0d/fallback-logo.png";var a={};return a.imgsrc=t,a.title=e.webTitle,a.section=e.sectionId,a.date=e.webPublicationDate.substring(0,e.webPublicationDate.indexOf("T")),a.desc=e.blocks.body[0].bodyTextSummary,a.url=e.webUrl,a.newsid=e.id,a.from="g",a};var ue=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).callHomePageAPI=function(t){"all"===t&&(t="");var a="";a="g"===e.props.source?"http://54.86.70.47:9000/guardianapi/"+t:"http://54.86.70.47:9000/nytimesapi/"+t,e.state.loading||e.setState({loading:!0}),h.a.get(a).then((function(t){e.setState({jsonData:t.data.response?t.data.response:t.data},(function(){e.setState({loading:!1})}))}))},e.state={loading:!0,jsonData:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.section;this.callHomePageAPI(e)}},{key:"componentWillReceiveProps",value:function(e,t){var a=this.props.match.params.section;this.callHomePageAPI(a)}},{key:"render",value:function(){if(this.state.loading)return l.a.createElement(q,null);if(!this.state.jsonData.results)return l.a.createElement(q,null);var e,t=this.state.jsonData.results;return Array.isArray(t)?(e="g"===this.props.source?le(t):function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],l={};l.title=n.title,l.section=n.section,l.date=n.published_date.substring(0,n.published_date.indexOf("T")),l.desc=n.abstract;var r=n.multimedia,s="https://upload.wikimedia.org/wikipedia/commons/0/0e/Nytimes_hq.jpg";if(r&&r.length>0)for(var o=0;o<r.length;o++)if(r[o].width>=2e3){s=r[o].url;break}l.imgsrc=s,l.url=n.url,l.newsid=n.url,l.from="n",t.push(l)}return t}(t),Array.isArray(t)?(e=e.map((function(e){return l.a.createElement(J,{newsInfo:e})})),l.a.createElement("div",null,e)):l.a.createElement(q,null)):l.a.createElement(q,null)}}]),a}(l.a.Component),de=Object(p.g)(ue),he=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).callGuardianSearch=function(t){var a="http://54.86.70.47:9000/guardianapi/search/"+t;e.state.loading1||e.setState({loading1:!0}),h.a.get(a).then((function(t){e.setState({jsonDataGuardian:t.data.response},(function(){e.setState({loading1:!1})}))}))},e.callNYTimesSearch=function(t){var a="http://54.86.70.47:9000/nytimesapi/search/"+t;e.state.loading2||e.setState({loading2:!0}),h.a.get(a).then((function(t){e.setState({jsonDataNYTimes:t.data.response},(function(){e.setState({loading2:!1})}))}))},e.state={loading1:!0,loading2:!0,jsonDataGuardian:{},jsonDataNYTimes:{}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.searchTwoSource(this.props.match.params.keyword)}},{key:"componentWillReceiveProps",value:function(e,t){this.searchTwoSource(e.match.params.keyword)}},{key:"searchTwoSource",value:function(e){this.callGuardianSearch(e),this.callNYTimesSearch(e)}},{key:"render",value:function(){if(this.state.loading1||this.state.loading2)return l.a.createElement(q,null);var e=this.state.jsonDataGuardian.results;if(!Array.isArray(e))return l.a.createElement(q,null);for(var t=le(e),a=[],n=[],r=0;r<t.length;r++)n.push(t[r]),4===n.length&&(a.push(n),n=[]);a=a.map((function(e){return l.a.createElement(Q,{newsList:e})}));var s=[];n=[],t=function(e){for(var t=[],a=0;a<e.length;a++){var n=se(e[a.toString()]);t.push(n)}return t}(this.state.jsonDataNYTimes.docs);for(var o=0;o<t.length;o++)n.push(t[o]),o!==t.length-1&&4!==n.length||(s.push(n),n=[]);return s=s.map((function(e){return l.a.createElement(Q,{newsList:e})})),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h2",{align:"left",style:{paddingLeft:"1rem"}},"Results")),a,s)}}]),a}(l.a.Component),pe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).fnUpdate=function(){e.forceUpdate()},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("favo")),a=[],n=[],r=0;for(var s in t)n.push(t[s]),++r!==Object.keys(t).length&&4!==n.length||(a.push(n),n=[]);return 0===(a=a.map((function(t){return l.a.createElement(Q,{newsList:t,isFavo:!0,fnUpdate:e.fnUpdate})}))).length?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"You have no saved articles")):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h2",{align:"left",style:{paddingLeft:"1rem"}},"Favorites"),a))}}]),a}(l.a.Component),fe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeSource=function(){n.setState({loading:!0}),"g"===n.state.source?n.setState({source:"n"},(function(){n.setState({loading:!1})})):n.setState({source:"g"},(function(){n.setState({loading:!1})}))},n.state={source:"",keyword:"",loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){"undefined"===typeof Storage||null===localStorage.getItem("source")?(this.setState({loading:!1,source:"g"}),localStorage.setItem("source","g")):this.setState({loading:!1,source:localStorage.getItem("source")}),null===localStorage.getItem("favo")&&localStorage.setItem("favo",JSON.stringify({}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(j,{fnSwitch:this.changeSource,checked:"g"===this.state.source,url:window.location.pathname}),this.state.loading?l.a.createElement(q,null):l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/"},l.a.createElement(p.a,{to:"/home/all"})),l.a.createElement(p.b,{path:"/home/:section"},l.a.createElement(de,{source:this.state.source})),l.a.createElement(p.b,{path:"/search/:keyword",render:function(e){return l.a.createElement(he,e)}}),l.a.createElement(p.b,{path:"/article/:id"},l.a.createElement(ie,null)),l.a.createElement(p.b,{path:"/favorite"},l.a.createElement(pe,null))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(o.a,null,l.a.createElement(fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[119,1,2]]]);
//# sourceMappingURL=main.4ea1da98.chunk.js.map